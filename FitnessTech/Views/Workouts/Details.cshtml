@model FitnessTech.ViewModels.WorkoutViewModel

@{
    ViewData["Title"] = "Details";
}


<div class="container">
    <h2>@Html.DisplayFor(model => model.WorkoutName)</h2>
    <h4>Workout Type: @Html.DisplayFor(model => model.WorkoutType.WorkoutTypeName)</h4>

    <div>
        <a asp-action="Edit" asp-route-id="@Model.WorkoutId">Edit</a> |
        <a asp-action="Delete" asp-route-id="@Model.WorkoutId">Delete</a> 
    </div>

    <hr />
    <h3 style="text-align: center">Exercises</h3>

    <div>
       
       
        <table class="table table-striped table-hover">
          
            <tbody>
            @foreach (var item in Model.ExerciseAssigments)
            {
                <tr>
                    <td>
                        @if (item.Exercise.AvatarImage != null)
        {
            var base64 = Convert.ToBase64String(item.Exercise.AvatarImage);
            var imgsrc = string.Format("data:image/gif;base64,{0}", base64);
                <img src='@imgsrc' style="max-width: 300px; max-height: 300px" alt="image" />

} else
                        {
                
                        <img src="~/images/dumbbell.png" style="max-width: 300px; max-height: 300px" alt="image" />

                        }
                    </td>
                 
                    <td>
                        <h4><a asp-action="Details" asp-controller="Exercises" asp-route-id="@item.Exercise.ExerciseId">@Html.DisplayFor(modelItem => item.Exercise.ExerciseName)</a>  </h4>
                        <h6>@Html.DisplayFor(modelItem => item.Exercise.MuscleGroup)</h6>
                        @{
                            string Desc = @item.Exercise.ExerciseDescription;
                        }
                        @if (Desc.Length > 250)
                        {
                            Desc = Desc.Substring(0, 250) + "...";
                        }

                        @Desc<br/>
                        <a asp-action="Details" asp-controller="Exercises" asp-route-id="@item.ExerciseId">Read more</a>

                    </td>

                </tr>
            }

            </tbody>
        </table>

     
    </div>

</div>

